@{
    ViewData["Title"] = "RAG Comparison";
}

<div class="container mt-4">
    <h2>⚡ RAG Comparison</h2>

    <!-- Input Form -->
    <div class="mb-3">
        <label for="queryInput" class="form-label">Enter Query</label>
        <input type="text" id="queryInput" class="form-control" placeholder="Type your query here..." />
    </div>

    <div class="mb-3">
        <label for="promptStyle" class="form-label">Prompt Style</label>
        <select id="promptStyle" class="form-select">
            <option value="zero-shot">Zero-Shot</option>
            <option value="few-shot">Few-Shot</option>
            <option value="role">Role Prompting</option>
            <option value="rag">RAG-Augmented</option>
            <option value="hybrid">Hybrid Role + RAG</option>
        </select>
    </div>

    <!-- Fixed Button with type="button" -->
    <button id="runBtn" type="button" class="btn btn-primary">
        Run Comparison
    </button>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="mt-3 d-none">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Processing...</span>
        </div>
        <span class="ms-2 text-muted">Processing...</span>
    </div>

    <!-- Results Section -->
    <div id="resultsSection" class="mt-4 d-none">
        <div class="row">
            <div class="col-md-6">
                <h6>Baseline Answer</h6>
                <pre id="baselineOutput" class="border rounded p-2 bg-light"></pre>
            </div>
            <div class="col-md-6">
                <h6>RAG Answer</h6>
                <pre id="ragOutput" class="border rounded p-2 bg-light"></pre>
            </div>
        </div>

        <h6 class="mt-3">Retrieved Context</h6>
        <ul id="contextList" class="list-group mb-3"></ul>

        <p class="mt-2">
            <strong>Retrieval:</strong> <span id="retrievalTime"></span> ms |
            <strong>LLM:</strong> <span id="llmTime"></span> ms |
            <strong>Total:</strong> <span id="totalTime"></span> ms
            <span id="slaBadge" class="badge"></span>
        </p>
    </div>
</div>

@section Scripts {
    <script src="~/js/rag-comparison.js"></script>
}
