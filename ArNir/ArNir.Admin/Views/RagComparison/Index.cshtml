@{
    ViewData["Title"] = "RAG Comparison";
}

<div class="container mt-4">
    <h2>RAG Comparison</h2>

    <div class="form-group">
        <label for="queryInput">Enter Query</label>
        <input id="queryInput" type="text" class="form-control" placeholder="Ask me something..." />
    </div>

    <div class="form-group">
        <label for="promptStyle">Prompt Style</label>
        <select id="promptStyle" class="form-control">
            <option value="zero-shot">Zero-Shot</option>
            <option value="few-shot">Few-Shot</option>
            <option value="role">Role</option>
            <option value="rag">RAG</option>
            <option value="hybrid">Hybrid</option>
        </select>
    </div>

    <div class="form-group">
        <label for="provider">Provider</label>
        <select id="provider" class="form-control">
            <option value="OpenAI">OpenAI</option>
            <option value="Gemini">Gemini</option>
            <option value="Claude">Claude</option>
        </select>
    </div>

    <div class="form-group">
        <label for="model">Model</label>
        <select id="model" class="form-control">
            <optgroup label="OpenAI">
                <option value="gpt-4o-mini">GPT-4o Mini</option>
                <option value="gpt-4o">GPT-4o</option>
                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
            </optgroup>
            <optgroup label="Gemini">
                <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                <option value="gemini-1.5-flash">Gemini 1.5 Flash</option>
            </optgroup>
            <optgroup label="Claude">
                <option value="claude-3-opus-20240229">Claude 3 Opus</option>
                <option value="claude-instant">Claude Instant</option>
            </optgroup>
        </select>
    </div>

    <button id="runBtn" class="btn btn-primary mt-2">Run Comparison</button>

    <div id="loadingSpinner" class="mt-3 d-none">
        <div class="spinner-border text-primary"></div> Running...
    </div>

    <div id="resultsSection" class="mt-4 d-none">
        <h4>Results</h4>
        <p><strong>Provider:</strong> <span id="providerUsed"></span></p>
        <p><strong>Model:</strong> <span id="modelUsed"></span></p>

        <h5>Baseline Answer</h5>
        <pre id="baselineOutput"></pre>

        <h5>RAG Answer</h5>
        <pre id="ragOutput"></pre>

        <h5>Retrieved Context</h5>
        <ul id="contextList" class="list-group"></ul>

        <h5>Performance</h5>
        <p>Retrieval: <span id="retrievalTime"></span> ms | LLM: <span id="llmTime"></span> ms | Total: <span id="totalTime"></span> ms</p>
        <p>SLA Status: <span id="slaBadge" class="badge"></span></p>
    </div>
</div>

@section Scripts {
    <script src="~/js/rag-comparison.js"></script>
}
