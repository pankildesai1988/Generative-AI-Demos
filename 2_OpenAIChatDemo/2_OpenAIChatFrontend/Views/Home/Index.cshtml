@{
    ViewData["Title"] = "AI Chat Demo";
}

<div class="container-fluid">
    <div class="row">
        <!-- Sidebar: Sessions -->
        <div class="col-3 border-end">
            <h5 class="mt-3">Sessions</h5>
            <ul id="sessionsList" class="list-group"></ul>

            <div class="mt-3">
                <button id="btnNewSession" class="btn btn-sm btn-primary w-100 mb-2">New Session</button>
                <button id="btnClearSessions" class="btn btn-sm btn-danger w-100">Clear All</button>
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="col-9">
            <h4 class="mt-3">Chat</h4>

            <!-- Chat Window -->
            <div id="chatWindow" class="border p-3 mb-3" style="height: 400px; overflow-y: auto;"></div>

            <!-- Template + Model Controls -->
            <div class="mb-3">
                <label for="templateSelector">Template:</label>
                <select id="templateSelector" class="form-select"></select>
                <div id="templateParameters" class="mt-2"></div>
            </div>

            <div class="mb-3">
                <label for="modelSelector">Model:</label>
                <select id="modelSelector" class="form-select">
                    <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                    <option value="gpt-4o">GPT-4o</option>
                </select>
            </div>

            <!-- Input + Controls -->
            <div class="input-group mb-3">
                <input id="userInput" type="text" class="form-control" placeholder="Type a message..." />
                <button id="btnSend" class="btn btn-primary">Send</button>
            </div>

            <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" id="sendModeToggle" />
                <label class="form-check-label" for="sendModeToggle">
                    Stream Mode
                </label>
            </div>

            <!-- Prompt Preview -->
            <div class="mb-3">
                <label for="promptPreview">Prompt Preview:</label>
                <textarea id="promptPreview" class="form-control" rows="4" readonly></textarea>
            </div>

            <!-- Clone Session -->
            <div class="mb-3">
                <label for="cloneModel">Clone Current Session to:</label>
                <select id="cloneModel" class="form-select mb-2">
                    <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                    <option value="gpt-4o">GPT-4o</option>
                </select>
                <button id="btnCloneCurrent" class="btn btn-outline-secondary">Clone Session</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <!-- Load modular JS -->
    <script type="module" src="~/js/main.js"></script>
}
